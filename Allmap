-- Services
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer

local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title = "ERROR HUB",
    Icon = "rbxassetid://108455308252343", 
    Author = "",
    Folder = "ERROR HUB",
    Size = UDim2.fromOffset(450, 330),
    Theme = "Violet", 
    Transparent = true,
    Resizable = true,
})

Window:EditOpenButton({ Enabled = false }) 

local ScreenGui = Instance.new("ScreenGui")
local ToggleBtn = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner") 

ScreenGui.Name = "ERROR HUB"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = CoreGui

ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
ToggleBtn.Position = UDim2.new(0, 20, 0.5, -25)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
ToggleBtn.BackgroundTransparency = 0
ToggleBtn.Image = "rbxassetid://108455308252343"
ToggleBtn.Active = true
ToggleBtn.Draggable = true
ToggleBtn.Parent = ScreenGui

UICorner.CornerRadius = UDim.new(0, 12) 
UICorner.Parent = ToggleBtn

local opened = true

local function toggle()
    opened = not opened
    if Window.UI then
        Window.UI.Enabled = opened
    else
        Window:Toggle()
    end
end

ToggleBtn.MouseButton1Click:Connect(function()
    ToggleBtn:TweenSize(
        UDim2.new(0, 56, 0, 56),
        Enum.EasingDirection.Out,
        Enum.EasingStyle.Quad,
        0.12,
        true,
        function()
            ToggleBtn:TweenSize(
                UDim2.new(0, 50, 0, 50),
                Enum.EasingDirection.Out,
                Enum.EasingStyle.Quad,
                0.12,
                true
            )
        end
    )
    toggle()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.T then
        toggle()
    end
end)



-- ===== WAIT FOR WINDUI READY =====
repeat task.wait() until Window.UI
task.wait(0.5)

-- =========================
-- ERROR HUB MOVEMENT SYSTEM
-- =========================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer

local humanoid, root

local function refreshChar()
    local char = player.Character or player.CharacterAdded:Wait()
    humanoid = char:WaitForChild("Humanoid")
    root = char:WaitForChild("HumanoidRootPart")
end
refreshChar()
player.CharacterAdded:Connect(refreshChar)

-- ===== TP WALK =====
local tpEnabled = false
local tpLevel = 1
local tpSpeed = 50
local tpConn

local function updateTpSpeed()
    tpSpeed = tpLevel * 50
end
updateTpSpeed()

local function toggleTp(on)
    tpEnabled = on
    if tpConn then tpConn:Disconnect() end
    if on then
        tpConn = RunService.Heartbeat:Connect(function(dt)
            if humanoid and root and humanoid.MoveDirection.Magnitude > 0 then
                root.CFrame = root.CFrame + humanoid.MoveDirection * (tpSpeed * dt)
            end
        end)
    end
end

-- ===== HIGH JUMP =====
local jumpEnabled = false
local jumpPower = 100

-- ===== INFINITE JUMP =====
local infJump = false
UIS.JumpRequest:Connect(function()
    if infJump and humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- ===== FLY =====
local fly = false
local flySpeed = 100
local flyConn

local function toggleFly(on)
    fly = on
    if flyConn then flyConn:Disconnect() end
    if on then
        local bv = Instance.new("BodyVelocity")
        bv.MaxForce = Vector3.new(9e9,9e9,9e9)
        bv.Velocity = Vector3.zero
        bv.Parent = root

        flyConn = RunService.Heartbeat:Connect(function()
            if not root then return end
            local cam = workspace.CurrentCamera
            local dir = Vector3.zero
            if UIS:IsKeyDown(Enum.KeyCode.W) then dir += cam.CFrame.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.S) then dir -= cam.CFrame.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.A) then dir -= cam.CFrame.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.D) then dir += cam.CFrame.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.Space) then dir += Vector3.new(0,1,0) end
            if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then dir -= Vector3.new(0,1,0) end
            bv.Velocity = dir.Magnitude > 0 and dir.Unit * flySpeed or Vector3.zero
        end)
    else
        for _,v in ipairs(root:GetChildren()) do
            if v:IsA("BodyVelocity") then v:Destroy() end
        end
    end
end

-- ===== NOCLIP =====
local noclip = false
RunService.Stepped:Connect(function()
    if noclip and player.Character then
        for _,v in ipairs(player.Character:GetDescendants()) do
            if v:IsA("BasePart") then
                v.CanCollide = false
            end
        end
    end
end)

-- =========================
-- CREATE TAB + UI CONTROLS
-- =========================

local MoveTab = Window:Tab({Title="Movement", Icon="zap"})

MoveTab:Toggle({
    Title="TP Walk",
    Description="üèÉ ‡∏ß‡∏¥‡πà‡∏á‡∏ó‡∏∞‡∏•‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß",
    Callback=function(v) toggleTp(v) end
})

MoveTab:Slider({
    Title="TP Speed",
    Description="‚ö° ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß",
    Min=1, Max=5, Value=tpLevel,
    Callback=function(v) tpLevel=v updateTpSpeed() end
})

MoveTab:Toggle({
    Title="High Jump",
    Description="ü¶ò ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á",
    Callback=function(v)
        jumpEnabled=v
        humanoid.UseJumpPower=true
        humanoid.JumpPower = v and jumpPower or 50
    end
})

MoveTab:Slider({
    Title="Jump Power",
    Description="üìè ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î",
    Min=50, Max=300, Value=jumpPower,
    Callback=function(v)
        jumpPower=v
        if jumpEnabled then humanoid.JumpPower=v end
    end
})

MoveTab:Toggle({
    Title="Infinite Jump",
    Description="‚ôæÔ∏è ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î",
    Callback=function(v) infJump=v end
})

MoveTab:Toggle({
    Title="Fly",
    Description="üõ∏ ‡∏ö‡∏¥‡∏ô",
    Callback=function(v) toggleFly(v) end
})

MoveTab:Slider({
    Title="Fly Speed",
    Description="üöÄ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏¥‡∏ô",
    Min=50, Max=300, Value=flySpeed,
    Callback=function(v) flySpeed=v end
})

MoveTab:Toggle({
    Title="Noclip",
    Description="üëª ‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á",
    Callback=function(v) noclip=v end
})
